{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\divya\\\\Documents\\\\projects\\\\aipBasicReactApp\\\\src\\\\Components\\\\NewPost.js\";\nimport React, { Component } from 'react';\nimport Nav from './Nav';\nimport FilterButtons from './FilterButtons';\nimport FilterButtonsForm from './FilterButtonsForm';\nimport Context from '../Context';\nimport '../_styles/Form.css';\nimport config from '../config';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCalendarAlt, faIdCard, faSmile } from '@fortawesome/free-regular-svg-icons';\nimport { faPodcast, faSeedling, faBookOpen, faUser, faHeartbeat } from '@fortawesome/free-solid-svg-icons';\nimport { BASE_URL } from \"../config\";\n\nclass NewPost extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateFields = fieldTypeSelected => {\n      const {\n        inputs\n      } = this.state; //clear values\n\n      Object.keys(inputs).forEach(key => {\n        inputs[key].value = \"\";\n      });\n      inputs.post_image.file = \"\";\n      this.setState({\n        fieldType: fieldTypeSelected,\n        inputs: inputs\n      });\n    };\n\n    this.updateChange = (inputValue, id) => {\n      const {\n        inputs\n      } = this.state; //console.log(inputs)\n\n      if (id !== 'post_image') {\n        inputs[id] = {\n          value: inputValue,\n          touched: true\n        };\n      } else if (id === 'post_image') {\n        console.log(inputValue[0]);\n        inputs[id] = {\n          file: inputValue[0],\n          touched: true\n        };\n      }\n\n      this.setState({\n        inputs: inputs\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        inputs,\n        fieldType\n      } = this.state;\n      let newPostWithImage = {\n        user_id: 1,\n        post_type: fieldType,\n        title: inputs.title.value,\n        link: inputs.link.value,\n        content: inputs.content.value,\n        by: inputs.by.value,\n        image_path: ''\n      };\n      let url = `${config.API_ENDPOINT}/posts`;\n\n      if (inputs.post_image.file) {\n        let formData = new FormData();\n        const fileField = inputs.post_image.file;\n        formData.append('image', fileField);\n        let image_url = `${config.API_ENDPOINT}/upload`;\n        fetch(image_url, {\n          method: 'POST',\n          body: formData\n        }).then(res => {\n          return res.json();\n        }).then(res => {\n          newPostWithImage.image_path = res.data.image;\n          console.log(newPostWithImage);\n          return fetch(url, {\n            method: 'POST',\n            body: JSON.stringify(newPostWithImage),\n            headers: {\n              'content-type': 'application/json' // 'authorization': `Bearer ${config.API_KEY}`\n\n            }\n          });\n        }).then(resp => {\n          if (!resp.ok) {\n            // get the error message from the response,\n            return resp.json().then(error => {\n              // then throw it\n              throw error;\n            });\n          }\n\n          return resp.json();\n        }).then(post => {\n          this.props.history.push('/dashboard');\n          this.context.addPost(newPostWithImage);\n        }).catch(error => {\n          this.setState({\n            error\n          });\n        });\n      } else if (!inputs.post_image.file) {\n        let newPost = {\n          user_id: 1,\n          post_type: fieldType,\n          title: inputs.title.value,\n          link: inputs.link.value,\n          content: inputs.content.value,\n          by: inputs.by.value,\n          image_path: ''\n        };\n        fetch(url, {\n          method: 'POST',\n          body: JSON.stringify(newPost),\n          headers: {\n            'content-type': 'application/json' // 'authorization': `Bearer ${config.API_KEY}`\n\n          }\n        }).then(res => {\n          if (!res.ok) {\n            // get the error message from the response,\n            return res.json().then(error => {\n              // then throw it\n              throw error;\n            });\n          }\n\n          return res.json();\n        }).then(post => {\n          this.props.history.push('/dashboard');\n          this.context.addPost(newPost);\n        }).catch(error => {\n          this.setState({\n            error\n          });\n        });\n      }\n    };\n\n    this.state = {\n      error: null,\n      fieldType: '',\n      inputs: {\n        title: {\n          value: \"\"\n        },\n        by: {\n          value: \"\"\n        },\n        link: {\n          value: \"\"\n        },\n        content: {\n          value: \"\"\n        },\n        post_image: {\n          value: \"\",\n          file: \"\"\n        }\n      },\n      user: this.props.match.params.username\n    }; //end of state\n  } //updates the fields displayed depending on the type of post\n\n\n  validateLink() {\n    const link = this.state.inputs.link.value;\n    let regexp = /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/;\n\n    if (!regexp.test(link)) {\n      return 'Please enter a valid url';\n    }\n  }\n\n  postData() {\n    const user = this.props.match.params.username;\n    const {\n      inputs,\n      fieldType\n    } = this.state; //user_id, title, link, start_date,by,content, post_type    \n\n    fetch(BASE_URL + '/posts/' + user, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        post_type: fieldType,\n        title: inputs.title.value,\n        link: inputs.link.value,\n        content: inputs.content.value,\n        by: inputs.by.value,\n        image_path: ''\n      })\n    }).then(response => response.json()).then(response => {\n      alert(\"Thank you for your post!\"); //window.location.href = BASE_URL_FRONTEND+\"/my-account\";\n    }).catch(err => alert(err));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-post form-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(Nav, {\n          pageType: 'interior',\n          user: this.state.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FilterButtons, {\n          buttonInfo: [{\n            aria_label: 'my posts',\n            icon_type: faUser,\n            link: `/${this.state.user}/dashboard`,\n            display_change: 'user',\n            tooltipMessage: 'view all your posts',\n            tooltipClass: 'bottom-farright'\n          }, {\n            aria_label: 'my account',\n            icon_type: faIdCard,\n            link: '/my-account',\n            display_change: 'all',\n            tooltipMessage: 'signin to your account',\n            tooltipClass: 'bottom-farright'\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: [/*#__PURE__*/_jsxDEV(FilterButtonsForm, {\n          updateFields: this.updateFields,\n          buttonInfo: [{\n            aria_label: 'fields to create new recipe post',\n            icon_type: faSeedling,\n            field_type: 'recipe',\n            tooltipMessage: 'create a recipe post',\n            tooltipClass: 'bottom-farright'\n          }, {\n            ariaLabel: 'fields to create new book post',\n            icon_type: faBookOpen,\n            field_type: 'book',\n            tooltipMessage: 'create a book post',\n            tooltipClass: 'bottom-right'\n          }, {\n            aria_label: 'fields to create new podcast post',\n            icon_type: faPodcast,\n            field_type: 'podcast',\n            tooltipMessage: 'create a podcast post',\n            tooltipClass: 'bottom-center'\n          }, {\n            aria_label: 'lifestyle posts',\n            icon_type: faHeartbeat,\n            field_type: 'lifestyle',\n            tooltipMessage: 'create a lifestyle post',\n            tooltipClass: 'bottom-left'\n          }, {\n            aria_label: 'event posts',\n            icon_type: faCalendarAlt,\n            field_type: 'event',\n            tooltipMessage: 'create an event post',\n            tooltipClass: 'bottom-farleft'\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"new-post-form\",\n          onSubmit: e => this.handleSubmit(e),\n          ref: \"form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-intro\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Please use the buttons above to select the type of post you want to create and the form below to share some positivity with others.\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                className: \"filter-icon inline-block-icon\",\n                icon: faSmile\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 159\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Create a new \", this.state.fieldType, \" post\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-field-group field-title\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"title\",\n                children: \"Title*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"title\",\n                id: \"title\",\n                placeholder: \"A New Beginning\",\n                onChange: e => this.updateChange(e.target.value, e.target.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-field-group field-author \",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"by\",\n                children: \"Author\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"by\",\n                id: \"by\",\n                placeholder: \"Kimberly Snyder\",\n                onChange: e => this.updateChange(e.target.value, e.target.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-field-group field-link\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"link\",\n                children: \"Link*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"url\",\n                name: \"link\",\n                id: \"link\",\n                placeholder: \"http://someamazingsite.com\",\n                onChange: e => this.updateChange(e.target.value, e.target.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-field-group field-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"content\",\n                children: \"Content*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                type: \"textarea\",\n                name: \"content\",\n                id: \"content\",\n                onChange: e => this.updateChange(e.target.value, e.target.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-field-group field-img\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"post-image\",\n                children: \"Upload Screenshot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                name: \"post_image\",\n                accept: \".png,.jpg,.gif.bmp, .jpeg\",\n                id: \"post_image\",\n                alt: \"user-uploaded-image\",\n                onChange: e => this.updateChange(e.target.files, e.target.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-buttons button-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => this.postData(),\n              children: \"Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"reset\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nNewPost.contextType = Context;\nexport default NewPost;","map":{"version":3,"sources":["C:/Users/divya/Documents/projects/aipBasicReactApp/src/Components/NewPost.js"],"names":["React","Component","Nav","FilterButtons","FilterButtonsForm","Context","config","FontAwesomeIcon","faCalendarAlt","faIdCard","faSmile","faPodcast","faSeedling","faBookOpen","faUser","faHeartbeat","BASE_URL","NewPost","constructor","props","updateFields","fieldTypeSelected","inputs","state","Object","keys","forEach","key","value","post_image","file","setState","fieldType","updateChange","inputValue","id","touched","console","log","handleSubmit","e","preventDefault","newPostWithImage","user_id","post_type","title","link","content","by","image_path","url","API_ENDPOINT","formData","FormData","fileField","append","image_url","fetch","method","body","then","res","json","data","image","JSON","stringify","headers","resp","ok","error","post","history","push","context","addPost","catch","newPost","user","match","params","username","validateLink","regexp","test","postData","response","alert","err","render","aria_label","icon_type","display_change","tooltipMessage","tooltipClass","field_type","ariaLabel","target","files","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Nav from './Nav';\r\nimport FilterButtons from './FilterButtons';\r\nimport FilterButtonsForm from './FilterButtonsForm';\r\nimport Context from '../Context'\r\nimport '../_styles/Form.css';\r\nimport config from '../config'\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCalendarAlt, faIdCard, faSmile  } from '@fortawesome/free-regular-svg-icons';\r\nimport { faPodcast, faSeedling, faBookOpen,faUser, faHeartbeat} from '@fortawesome/free-solid-svg-icons';\r\nimport {BASE_URL} from \"../config\";\r\n\r\n\r\nclass NewPost extends Component{\r\n  static contextType = Context;\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      error:null,      \r\n      fieldType:'',      \r\n      inputs:{\r\n      title:{value:\"\"},      \r\n      by:{value:\"\"},\r\n      link:{value:\"\"},\r\n      content:{value:\"\"},\r\n      post_image:{value:\"\", file:\"\"}},\r\n      user: this.props.match.params.username\r\n    }//end of state\r\n  }\r\n  //updates the fields displayed depending on the type of post\r\n  updateFields=(fieldTypeSelected)=>{    \r\n    const {inputs} = this.state   \r\n  //clear values\r\n    Object.keys(inputs).forEach(key => {\r\n     inputs[key].value=\"\";\r\n    });\r\n    inputs.post_image.file=\"\";        \r\n\r\n        this.setState({\r\n            fieldType:fieldTypeSelected,\r\n            inputs:inputs,\r\n           })\r\n    }\r\n\r\n  \r\n\r\nvalidateLink(){\r\n    const link = this.state.inputs.link.value;\r\n    let regexp =  /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/;\r\n\r\n    if (!regexp.test(link))\r\n    {\r\n        return 'Please enter a valid url'\r\n    }\r\n}\r\nupdateChange=(inputValue, id)=>{\r\n    const {inputs} = this.state;\r\n    //console.log(inputs)\r\n    \r\n    if(id!=='post_image'){\r\n        inputs[id]={value:inputValue,touched:true}\r\n     }\r\n     else if(id==='post_image'){\r\n         console.log(inputValue[0])\r\n         inputs[id]={file:inputValue[0],touched:true}\r\n     }\r\n    this.setState({inputs:inputs})\r\n    \r\n  }\r\n\r\nhandleSubmit=(e)=>{\r\n    e.preventDefault();\r\n    const {inputs, fieldType}=this.state;     \r\n    \r\n    let newPostWithImage = {\r\n        user_id:1,\r\n        post_type:fieldType,\r\n        title:inputs.title.value,\r\n        link:inputs.link.value,\r\n        content:inputs.content.value,\r\n        by:inputs.by.value,\r\n        image_path:''\r\n    }\r\n    let url = `${config.API_ENDPOINT}/posts`\r\n    if(inputs.post_image.file){\r\n        let formData = new FormData();\r\n        const fileField = inputs.post_image.file;        \r\n        formData.append('image', fileField);        \r\n\r\n        let image_url = `${config.API_ENDPOINT}/upload`;\r\n        \r\n        fetch(image_url, {\r\n            method: 'POST',\r\n            body: formData,\r\n            })\r\n        .then(res => {\r\n           return res.json()\r\n        })\r\n        .then(res => {\r\n            newPostWithImage.image_path = res.data.image;\r\n            console.log(newPostWithImage)\r\n           return  fetch(url, {\r\n                method: 'POST',\r\n                body: JSON.stringify(newPostWithImage),\r\n                headers: {\r\n                  'content-type': 'application/json',\r\n                 // 'authorization': `Bearer ${config.API_KEY}`\r\n                }\r\n              })\r\n        })\r\n       .then(resp => {\r\n          if (!resp.ok) {\r\n          // get the error message from the response,\r\n            return resp.json().then(error => {\r\n            // then throw it\r\n            throw error\r\n            })\r\n          }\r\n           return resp.json()\r\n        })\r\n        .then(post => {\r\n            this.props.history.push('/dashboard')\r\n            this.context.addPost(newPostWithImage)       \r\n        })\r\n        .catch(error => {\r\n            this.setState({ error })\r\n        })    \r\n    }    \r\nelse if(!inputs.post_image.file){  \r\n  let newPost = {\r\n    user_id:1,\r\n    post_type:fieldType,\r\n    title:inputs.title.value,\r\n    link:inputs.link.value,\r\n    content:inputs.content.value,\r\n    by:inputs.by.value,\r\n    image_path:''\r\n}\r\nfetch(url, {\r\n    method: 'POST',\r\n    body: JSON.stringify(newPost),\r\n    headers: {\r\n    'content-type': 'application/json',\r\n    // 'authorization': `Bearer ${config.API_KEY}`\r\n    }  \r\n})\r\n.then(res => {\r\n    if (!res.ok) {\r\n        // get the error message from the response,\r\n        return res.json().then(error => {\r\n        // then throw it\r\n        throw error\r\n        })\r\n    }\r\n    return res.json()\r\n    })\r\n    .then(post => {\r\n      this.props.history.push('/dashboard')\r\n      this.context.addPost(newPost)    \r\n    })\r\n    .catch(error => {\r\n      this.setState({ error })\r\n    })\r\n  }\r\n}      \r\n\r\npostData()\r\n{\r\n    const user = this.props.match.params.username;    \r\n    const {inputs, fieldType}=this.state; \r\n    //user_id, title, link, start_date,by,content, post_type    \r\n    fetch(BASE_URL+'/posts/'+user, {\r\n      method:'post',\r\n      headers:{'Content-Type' : 'application/json'},\r\n      body:JSON.stringify({\r\n        post_type:fieldType,\r\n        title:inputs.title.value,\r\n        link:inputs.link.value,\r\n        content:inputs.content.value,\r\n        by:inputs.by.value,\r\n        image_path:'' \r\n      })\r\n    })\r\n    .then(response=> response.json())\r\n    .then(response=>{    \r\n      alert(\"Thank you for your post!\");\r\n      //window.location.href = BASE_URL_FRONTEND+\"/my-account\";\r\n    })\r\n    .catch(err => alert(err))\r\n}\r\nrender(){ \r\n    \r\n\r\n    return(\r\n        <div className=\"new-post form-page\">\r\n            <header>\r\n                <Nav pageType={'interior'} user={this.state.user}/>\r\n                <FilterButtons\r\n                    buttonInfo={[                    \r\n                    {aria_label:'my posts',icon_type:faUser, link:`/${this.state.user}/dashboard`, display_change:'user', tooltipMessage:'view all your posts',tooltipClass:'bottom-farright'},\r\n                    {aria_label:'my account',icon_type:faIdCard, link:'/my-account',display_change:'all', tooltipMessage:'signin to your account',tooltipClass:'bottom-farright'},                    \r\n                    ]}                \r\n                />\r\n            </header>\r\n            <main>\r\n            <FilterButtonsForm\r\n                    updateFields = {this.updateFields}\r\n                    buttonInfo={[\r\n                    {aria_label:'fields to create new recipe post',icon_type:faSeedling,field_type:'recipe', tooltipMessage:'create a recipe post',tooltipClass:'bottom-farright'},\r\n                    {ariaLabel:'fields to create new book post',icon_type:faBookOpen, field_type:'book', tooltipMessage:'create a book post',tooltipClass:'bottom-right'},\r\n                    {aria_label:'fields to create new podcast post',icon_type:faPodcast,field_type:'podcast', tooltipMessage:'create a podcast post',tooltipClass:'bottom-center'},\r\n                    {aria_label:'lifestyle posts',icon_type:faHeartbeat, field_type:'lifestyle',tooltipMessage:'create a lifestyle post',tooltipClass:'bottom-left'},\r\n                    {aria_label:'event posts',icon_type:faCalendarAlt,field_type:'event', tooltipMessage:'create an event post',tooltipClass:'bottom-farleft'}]}\r\n                />\r\n\r\n                <form className=\"new-post-form\" \r\n                    onSubmit={e=>this.handleSubmit(e)}\r\n                    ref=\"form\">\r\n                    <div className=\"form-intro\">\r\n                        <p>Please use the buttons above to select the type of post you want to create and the form below to share some positivity with others.<FontAwesomeIcon className=\"filter-icon inline-block-icon\" icon={faSmile} /></p>\r\n                        <h2>Create a new {this.state.fieldType} post</h2>\r\n                    </div>\r\n                    <div>\r\n                        <div className='form-field-group field-title'>\r\n                            <label htmlFor=\"title\">Title*</label>\r\n                            <input \r\n                                type=\"text\" name=\"title\" id=\"title\" placeholder=\"A New Beginning\"\r\n                                onChange={e => this.updateChange(e.target.value, e.target.id)}/>\r\n                        </div>\r\n                        <div \r\n                             className='form-field-group field-author '>\r\n                            <label htmlFor=\"by\">Author</label>\r\n                            <input \r\n                                type=\"text\" name=\"by\" id=\"by\" placeholder=\"Kimberly Snyder\"\r\n                                onChange={e => this.updateChange(e.target.value, e.target.id)}/>\r\n                        </div>                        \r\n                        \r\n                        <div className='form-field-group field-link'>\r\n                            <label htmlFor=\"link\">Link*</label>\r\n                            <input \r\n                                type=\"url\" name=\"link\" id=\"link\" placeholder=\"http://someamazingsite.com\"\r\n                                onChange={e => this.updateChange(e.target.value, e.target.id)}/>\r\n                        </div>\r\n                        \r\n                        <div className='form-field-group field-content'>\r\n                            <label htmlFor=\"content\">Content*</label>\r\n                            <textarea\r\n                                type=\"textarea\" name=\"content\"\r\n                                id=\"content\"\r\n                                onChange={e => this.updateChange(e.target.value, e.target.id)}\r\n                                />\r\n                        </div>\r\n                                                \r\n                        <div className=\"form-field-group field-img\">\r\n                            <label htmlFor=\"post-image\">Upload Screenshot</label>\r\n                            <input\r\n                                type=\"file\" name=\"post_image\"\r\n                                accept=\".png,.jpg,.gif.bmp, .jpeg\"\r\n                                id=\"post_image\"\r\n                                alt=\"user-uploaded-image\"\r\n                                onChange={e => this.updateChange(e.target.files, e.target.id)}\r\n                                />\r\n                        </div>\r\n                    </div>\r\n                        \r\n                    <div className=\"form-buttons button-row\">    \r\n                        <button \r\n                            type=\"button\"\r\n                            onClick={()=>this.postData()}\r\n                        >\r\n                            Post</button>\r\n                        <button type=\"reset\">Cancel</button>\r\n                    </div>\r\n                  \r\n                </form>\r\n                \r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n}\r\n\r\nexport default NewPost;"]},"metadata":{},"sourceType":"module"}