{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/johnakhilomen/Downloads/aipBasicReactApp/src/Components/DeletePost.js\";\nimport React, { Component } from 'react';\nimport Context from '../Context.js';\nimport config from '../config';\n\nfunction deletePostRequest(postId, callback) {\n  let url = `${config.API_ENDPOINT}/posts/${postId}`;\n  console.log(url);\n  fetch(url, {\n    method: 'DELETE',\n    headers: {\n      'content-type': 'application/json' // 'Authorization': `Bearer ${config.API_KEY}`\n\n    }\n  }).then(res => {\n    if (!res.ok) {\n      throw new Error('Something went wrong, please try again');\n    }\n\n    return res.json();\n  }).then(() => {\n    // call the callback when the request is successful\n    // this is where the App component can remove it from state   \n    callback(postId);\n  }).catch(error => {\n    callback(postId, error);\n  });\n}\n\nclass DeletePost extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isBoxVisible: false\n    };\n\n    this.showAreYouSurePopUp = () => {\n      this.setState(prevState => ({\n        isBoxVisible: true\n      }));\n    };\n\n    this.cancelDeleteRequest = () => {\n      this.setState(prevState => ({\n        isBoxVisible: false\n      }));\n    };\n  }\n\n  render() {\n    const {\n      isBoxVisible\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"delete-post-area\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete-button\",\n        onClick: this.showAreYouSurePopUp,\n        children: \"Delete Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `box are-you-sure-box ${isBoxVisible ? \"\" : \"hidden\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure you want to delete this post? This action can not be undone.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          onClick: () => {\n            deletePostRequest(this.props.postId, this.context.deletePost);\n          },\n          children: \"Delete Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          onClick: this.cancelDeleteRequest,\n          children: \"Whoops-nevermind\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nDeletePost.contextType = Context;\nexport default DeletePost;","map":{"version":3,"sources":["/Users/johnakhilomen/Downloads/aipBasicReactApp/src/Components/DeletePost.js"],"names":["React","Component","Context","config","deletePostRequest","postId","callback","url","API_ENDPOINT","console","log","fetch","method","headers","then","res","ok","Error","json","catch","error","DeletePost","state","isBoxVisible","showAreYouSurePopUp","setState","prevState","cancelDeleteRequest","render","props","context","deletePost","contextType"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,QAAnC,EAA4C;AAExC,MAAIC,GAAG,GAAI,GAAEJ,MAAM,CAACK,YAAa,UAASH,MAAO,EAAjD;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAI,EAAAA,KAAK,CAACJ,GAAD,EAAK;AACNK,IAAAA,MAAM,EAAE,QADF;AAENC,IAAAA,OAAO,EAAE;AACT,sBAAgB,kBADP,CAET;;AAFS;AAFH,GAAL,CAAL,CAOAC,IAPA,CAOKC,GAAG,IAAE;AACN,QAAG,CAACA,GAAG,CAACC,EAAR,EAAW;AACX,YAAM,IAAIC,KAAJ,CAAU,wCAAV,CAAN;AACC;;AACD,WAAOF,GAAG,CAACG,IAAJ,EAAP;AACH,GAZD,EAaCJ,IAbD,CAaM,MAAM;AACV;AACA;AACCR,IAAAA,QAAQ,CAACD,MAAD,CAAR;AACF,GAjBD,EAkBCc,KAlBD,CAkBOC,KAAK,IAAI;AACbd,IAAAA,QAAQ,CAACD,MAAD,EAASe,KAAT,CAAR;AACF,GApBD;AAqBH;;AACD,MAAMC,UAAN,SAAyBpB,SAAzB,CAAkC;AAAA;AAAA;AAAA,SAC9BqB,KAD8B,GACtB;AACJC,MAAAA,YAAY,EAAC;AADT,KADsB;;AAAA,SAM9BC,mBAN8B,GAMV,MAAI;AACpB,WAAKC,QAAL,CAAcC,SAAS,KAAK;AAAEH,QAAAA,YAAY,EAAE;AAAhB,OAAL,CAAvB;AACH,KAR6B;;AAAA,SAU9BI,mBAV8B,GAUV,MAAI;AACpB,WAAKF,QAAL,CAAcC,SAAS,KAAK;AAAEH,QAAAA,YAAY,EAAE;AAAhB,OAAL,CAAvB;AACH,KAZ6B;AAAA;;AAc9BK,EAAAA,MAAM,GAAE;AACJ,UAAM;AAAEL,MAAAA;AAAF,QAAmB,KAAKD,KAA9B;AACA,wBACI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACI;AAAQ,QAAA,SAAS,EAAC,eAAlB;AAAkC,QAAA,OAAO,EAAE,KAAKE,mBAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAK,QAAA,SAAS,EAAG,wBAAuBD,YAAY,GAAG,EAAH,GAAQ,QAAS,EAArE;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEK;AAAQ,UAAA,SAAS,EAAC,QAAlB;AAA2B,UAAA,OAAO,EAAE,MAAI;AAChCnB,YAAAA,iBAAiB,CAAC,KAAKyB,KAAL,CAAWxB,MAAZ,EAClB,KAAKyB,OAAL,CAAaC,UADK,CAAjB;AAEA,WAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFL,eAQI;AAAQ,UAAA,SAAS,EAAC,QAAlB;AAA2B,UAAA,OAAO,EAAI,KAAKJ,mBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAiBH;;AAjC6B;;AAA5BN,U,CAIKW,W,GAAa9B,O;AA+BxB,eAAemB,UAAf","sourcesContent":["import React, {Component} from 'react';\nimport Context from '../Context.js';\nimport config from '../config';\n\nfunction deletePostRequest(postId, callback){\n    \n    let url = `${config.API_ENDPOINT}/posts/${postId}`;\n    console.log(url)\n    fetch(url,{\n        method: 'DELETE',\n        headers: {\n        'content-type': 'application/json',\n        // 'Authorization': `Bearer ${config.API_KEY}`\n        },\n    })\n   .then(res=>{\n        if(!res.ok){\n        throw new Error('Something went wrong, please try again')\n        }\n        return res.json()\n    })\n    .then(() => {\n      // call the callback when the request is successful\n      // this is where the App component can remove it from state   \n       callback(postId)    \n    })\n    .catch(error => {\n       callback(postId, error)\n    })  \n}\nclass DeletePost extends Component{\n    state = {\n        isBoxVisible:false,\n    }\n    static contextType= Context;\n\n    showAreYouSurePopUp=()=>{\n        this.setState(prevState => ({ isBoxVisible: true }));\n    }\n\n    cancelDeleteRequest=()=>{\n        this.setState(prevState => ({ isBoxVisible: false }));\n    }\n\n    render(){\n        const { isBoxVisible } = this.state;\n        return(\n            <div className=\"delete-post-area\">\n                <button className=\"delete-button\" onClick={this.showAreYouSurePopUp}>\n                    Delete Post\n                </button>\n                <div className={`box are-you-sure-box ${isBoxVisible ? \"\" : \"hidden\"}`}>\n                    <p>Are you sure you want to delete this post? This action can not be undone.</p>\n                     <button className=\"button\" onClick={()=>{\n                             deletePostRequest(this.props.postId,\n                            this.context.deletePost);\n                            }}>\n                            Delete Post\n                    </button>\n                    <button className=\"button\" onClick = {this.cancelDeleteRequest}>Whoops-nevermind</button>\n                </div> \n            </div>            \n        )\n    }\n}\nexport default DeletePost;\n"]},"metadata":{},"sourceType":"module"}